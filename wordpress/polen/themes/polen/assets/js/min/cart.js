!function(e){e(document).on("click",".cart-video-to",function(o){"to_myself"==e(this).val()?(e(".video-to-info").hide(),e("input[name=offered_by]").prop("required",!1)):(e(".video-to-info").show(),e("input[name=offered_by]").prop("required",!0))}),e(document).ready(function(){function o(e){document.getElementById("reload").classList[e?"add":"remove"]("spin")}e(".polen-cart-item-data").on("blur change paste click",function(){var o=e(this).data("cart-id"),t=e(this).attr("name");if(-1!==e.inArray(t,["offered_by","video_to","name_to_video","email_to_video","video_category","instructions_to_video","allow_video_on_page"])){let a;a="allow_video_on_page"==t?e("#cart_"+t+"_"+o).is(":checked")?"on":"off":e("#cart_"+t+"_"+o).val(),e.ajax({type:"POST",url:woocommerce_params.ajax_url,data:{action:"polen_update_cart_item",security:e("#woocommerce-cart-nonce").val(),polen_data_name:t,polen_data_value:a,cart_id:o},success:function(e){}})}}),e(".select-ocasion").on("change",function(){e(this).val()&&e(".video-instruction-refresh").click()}),e(".video-instruction-refresh").on("click",function(){var t=e('select[name="video_category"]'),a=t.val(),i=t.attr("data-cart-id");a&&(o(!0),e.ajax({type:"POST",url:woocommerce_params.ajax_url,data:{action:"get_occasion_description",occasion_type:a,refresh:1},success:function(o){let t=e.parseJSON(o);t&&t.response[0].description&&e("#cart_instructions_to_video_"+i).html(t.response[0].description)},complete:function(){o(!1)}}))})})}(jQuery);